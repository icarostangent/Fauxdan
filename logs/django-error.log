{"timestamp": "2025-09-03T19:13:33.162713Z", "level": "ERROR", "logger": "django.request", "message": "Internal Server Error: /analytics/events/", "module": "log", "function": "log_response", "line": 248, "thread": 140703665485504, "process": 18, "status_code": 500, "environment": "development", "project": "fauxdan", "exception": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 105, in _execute\n    return self.cursor.execute(sql, params)\npsycopg2.errors.UniqueViolation: duplicate key value violates unique constraint \"analytics_session_session_id_key\"\nDETAIL:  Key (session_id)=(session_435506f5-af78-4d7b-b998-78e8a421b016_1756926812) already exists.\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.10/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/usr/local/lib/python3.10/site-packages/django/utils/deprecation.py\", line 128, in __call__\n    response = self.process_request(request)\n  File \"/app/analytics/middleware.py\", line 84, in process_request\n    session = Session.objects.create(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/manager.py\", line 87, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/query.py\", line 679, in create\n    obj.save(force_insert=True, using=self.db)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/base.py\", line 891, in save\n    self.save_base(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/base.py\", line 997, in save_base\n    updated = self._save_table(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/base.py\", line 1160, in _save_table\n    results = self._do_insert(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/base.py\", line 1201, in _do_insert\n    return manager._insert(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/manager.py\", line 87, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/query.py\", line 1847, in _insert\n    return query.get_compiler(using=using).execute_sql(returning_fields)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/sql/compiler.py\", line 1836, in execute_sql\n    cursor.execute(sql, params)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 122, in execute\n    return super().execute(sql, params)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 79, in execute\n    return self._execute_with_wrappers(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 92, in _execute_with_wrappers\n    return executor(sql, params, many, context)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 100, in _execute\n    with self.db.wrap_database_errors:\n  File \"/usr/local/lib/python3.10/site-packages/django/db/utils.py\", line 91, in __exit__\n    raise dj_exc_value.with_traceback(traceback) from exc_value\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 105, in _execute\n    return self.cursor.execute(sql, params)\ndjango.db.utils.IntegrityError: duplicate key value violates unique constraint \"analytics_session_session_id_key\"\nDETAIL:  Key (session_id)=(session_435506f5-af78-4d7b-b998-78e8a421b016_1756926812) already exists.\n"}
{"timestamp": "2025-09-03T19:43:37.769769Z", "level": "ERROR", "logger": "django.request", "message": "Internal Server Error: /analytics/events/", "module": "log", "function": "log_response", "line": 248, "thread": 140703665485504, "process": 18, "status_code": 500, "environment": "development", "project": "fauxdan", "exception": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 105, in _execute\n    return self.cursor.execute(sql, params)\npsycopg2.errors.UniqueViolation: duplicate key value violates unique constraint \"analytics_session_session_id_key\"\nDETAIL:  Key (session_id)=(session_435506f5-af78-4d7b-b998-78e8a421b016_1756928617) already exists.\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.10/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/usr/local/lib/python3.10/site-packages/django/utils/deprecation.py\", line 128, in __call__\n    response = self.process_request(request)\n  File \"/app/analytics/middleware.py\", line 84, in process_request\n    session = Session.objects.create(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/manager.py\", line 87, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/query.py\", line 679, in create\n    obj.save(force_insert=True, using=self.db)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/base.py\", line 891, in save\n    self.save_base(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/base.py\", line 997, in save_base\n    updated = self._save_table(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/base.py\", line 1160, in _save_table\n    results = self._do_insert(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/base.py\", line 1201, in _do_insert\n    return manager._insert(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/manager.py\", line 87, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/query.py\", line 1847, in _insert\n    return query.get_compiler(using=using).execute_sql(returning_fields)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/sql/compiler.py\", line 1836, in execute_sql\n    cursor.execute(sql, params)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 122, in execute\n    return super().execute(sql, params)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 79, in execute\n    return self._execute_with_wrappers(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 92, in _execute_with_wrappers\n    return executor(sql, params, many, context)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 100, in _execute\n    with self.db.wrap_database_errors:\n  File \"/usr/local/lib/python3.10/site-packages/django/db/utils.py\", line 91, in __exit__\n    raise dj_exc_value.with_traceback(traceback) from exc_value\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 105, in _execute\n    return self.cursor.execute(sql, params)\ndjango.db.utils.IntegrityError: duplicate key value violates unique constraint \"analytics_session_session_id_key\"\nDETAIL:  Key (session_id)=(session_435506f5-af78-4d7b-b998-78e8a421b016_1756928617) already exists.\n"}
{"timestamp": "2025-09-03T21:26:53.997085Z", "level": "ERROR", "logger": "django.request", "message": "Internal Server Error: /redis", "module": "log", "function": "log_response", "line": 248, "thread": 140321445361344, "process": 18, "status_code": 500, "environment": "development", "project": "fauxdan", "exception": "Traceback (most recent call last):\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 105, in _execute\n    return self.cursor.execute(sql, params)\npsycopg2.errors.UniqueViolation: duplicate key value violates unique constraint \"analytics_session_session_id_key\"\nDETAIL:  Key (session_id)=(session_051e00bf-a8fd-424a-aef1-19fd72beea68_1756934813) already exists.\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.10/site-packages/django/core/handlers/exception.py\", line 55, in inner\n    response = get_response(request)\n  File \"/usr/local/lib/python3.10/site-packages/django/utils/deprecation.py\", line 128, in __call__\n    response = self.process_request(request)\n  File \"/app/analytics/middleware.py\", line 84, in process_request\n    session = Session.objects.create(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/manager.py\", line 87, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/query.py\", line 679, in create\n    obj.save(force_insert=True, using=self.db)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/base.py\", line 891, in save\n    self.save_base(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/base.py\", line 997, in save_base\n    updated = self._save_table(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/base.py\", line 1160, in _save_table\n    results = self._do_insert(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/base.py\", line 1201, in _do_insert\n    return manager._insert(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/manager.py\", line 87, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/query.py\", line 1847, in _insert\n    return query.get_compiler(using=using).execute_sql(returning_fields)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/models/sql/compiler.py\", line 1836, in execute_sql\n    cursor.execute(sql, params)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 122, in execute\n    return super().execute(sql, params)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 79, in execute\n    return self._execute_with_wrappers(\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 92, in _execute_with_wrappers\n    return executor(sql, params, many, context)\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 100, in _execute\n    with self.db.wrap_database_errors:\n  File \"/usr/local/lib/python3.10/site-packages/django/db/utils.py\", line 91, in __exit__\n    raise dj_exc_value.with_traceback(traceback) from exc_value\n  File \"/usr/local/lib/python3.10/site-packages/django/db/backends/utils.py\", line 105, in _execute\n    return self.cursor.execute(sql, params)\ndjango.db.utils.IntegrityError: duplicate key value violates unique constraint \"analytics_session_session_id_key\"\nDETAIL:  Key (session_id)=(session_051e00bf-a8fd-424a-aef1-19fd72beea68_1756934813) already exists.\n"}
